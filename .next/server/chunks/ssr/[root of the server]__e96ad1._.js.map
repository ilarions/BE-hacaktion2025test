{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/koles/OneDrive/%D0%A0%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB/FeHakaton25TEST/src/app/lib/client/index.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"https://api.example.com\";\r\n\r\nconst apiClient = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n  withCredentials: true,\r\n});\r\n\r\napiClient.interceptors.request.use(\r\n  (config) => {\r\n    if (typeof window !== \"undefined\") {\r\n      const token = localStorage.getItem(\"accessToken\");\r\n      if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n      }\r\n    }\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error)\r\n);\r\n\r\napiClient.interceptors.response.use(\r\n  (response) => response,\r\n  async (error) => {\r\n    const originalRequest = error.config;\r\n\r\n    if (error.response?.status === 401 && !originalRequest._retry) {\r\n      originalRequest._retry = true;\r\n\r\n      try {\r\n        const refreshResponse = await axios.post(`${API_BASE_URL}/auth/refresh`);\r\n        localStorage.setItem(\"accessToken\", refreshResponse.data.accessToken);\r\n\r\n        originalRequest.headers.Authorization = `Bearer ${refreshResponse.data.accessToken}`;\r\n        return apiClient(originalRequest);\r\n      } catch (refreshError) {\r\n        console.error(\"Не удалось обновить токен:\", refreshError);\r\n      }\r\n    }\r\n\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default apiClient;"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,eAAe,8DAAmC;AAExD,MAAM,YAAY,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC7B,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;IACA,iBAAiB;AACnB;AAEA,UAAU,YAAY,CAAC,OAAO,CAAC,GAAG,CAChC,CAAC;IACC,uCAAmC;;IAKnC;IACA,OAAO;AACT,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;AAG5B,UAAU,YAAY,CAAC,QAAQ,CAAC,GAAG,CACjC,CAAC,WAAa,UACd,OAAO;IACL,MAAM,kBAAkB,MAAM,MAAM;IAEpC,IAAI,MAAM,QAAQ,EAAE,WAAW,OAAO,CAAC,gBAAgB,MAAM,EAAE;QAC7D,gBAAgB,MAAM,GAAG;QAEzB,IAAI;YACF,MAAM,kBAAkB,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,GAAG,aAAa,aAAa,CAAC;YACvE,aAAa,OAAO,CAAC,eAAe,gBAAgB,IAAI,CAAC,WAAW;YAEpE,gBAAgB,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,gBAAgB,IAAI,CAAC,WAAW,EAAE;YACpF,OAAO,UAAU;QACnB,EAAE,OAAO,cAAc;YACrB,QAAQ,KAAK,CAAC,8BAA8B;QAC9C;IACF;IAEA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 152, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/koles/OneDrive/%D0%A0%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB/FeHakaton25TEST/src/app/lib/auth/index.ts"],"sourcesContent":["import apiClient from \"../client\";\r\n\r\nexport async function loginUser( email: string, password: string) {\r\n    try {\r\n        const response = await apiClient.post(\"/auth/login\", { email, password });\r\n\r\n        localStorage.setItem(\"accessToken\", response.data.accessToken);\r\n        console.log(response);\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error(\"Ошибка при авторизации:\", error);\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function registerUser(name:string, email: string, password: string) {\r\n    try {\r\n        const response = await apiClient.post(\"/auth/register\", { name, email, password });\r\n        console.log(response);\r\n\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error(\"Ошибка при регистрации:\", error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n\r\nexport async function logWithGoogle() {\r\n    try {\r\n        const response = await apiClient.get(\"/auth/google/callback\");\r\n        console.log(response);\r\n\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error(\"Ошибка при регистрации:\", error);\r\n        throw error;\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;AAEO,eAAe,UAAW,KAAa,EAAE,QAAgB;IAC5D,IAAI;QACA,MAAM,WAAW,MAAM,oIAAA,CAAA,UAAS,CAAC,IAAI,CAAC,eAAe;YAAE;YAAO;QAAS;QAEvE,aAAa,OAAO,CAAC,eAAe,SAAS,IAAI,CAAC,WAAW;QAC7D,QAAQ,GAAG,CAAC;QACZ,OAAO,SAAS,IAAI;IACxB,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,2BAA2B;QACzC,MAAM;IACV;AACJ;AAEO,eAAe,aAAa,IAAW,EAAE,KAAa,EAAE,QAAgB;IAC3E,IAAI;QACA,MAAM,WAAW,MAAM,oIAAA,CAAA,UAAS,CAAC,IAAI,CAAC,kBAAkB;YAAE;YAAM;YAAO;QAAS;QAChF,QAAQ,GAAG,CAAC;QAEZ,OAAO,SAAS,IAAI;IACxB,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,2BAA2B;QACzC,MAAM;IACV;AACJ;AAGO,eAAe;IAClB,IAAI;QACA,MAAM,WAAW,MAAM,oIAAA,CAAA,UAAS,CAAC,GAAG,CAAC;QACrC,QAAQ,GAAG,CAAC;QAEZ,OAAO,SAAS,IAAI;IACxB,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,2BAA2B;QACzC,MAAM;IACV;AACJ"}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 203, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/koles/OneDrive/%D0%A0%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB/FeHakaton25TEST/src/components/LogButtons/index.tsx"],"sourcesContent":["import { logWithGoogle } from '@/app/lib/auth'\r\nimport { Box, Button } from '@mui/material'\r\nimport React from 'react'\r\nimport { FaFacebook } from 'react-icons/fa'\r\nimport { FcGoogle } from 'react-icons/fc'\r\n\r\n\r\nexport const LogButtons = () => {\r\n    return (\r\n        <Box\r\n            className=\"flex flex-row gap-3 mb-3\">\r\n            <Button\r\n                onClick={() => logWithGoogle()}\r\n                variant=\"outlined\"\r\n                className=\"w-full flex items-center justify-center gap-2 border-black border-2 bg-clue\"\r\n                sx={{\r\n                    textTransform: \"none\",\r\n                    color: \"#333\",\r\n                    fontWeight: \"bold\",\r\n                    width: '200px',\r\n                    height: '50px',\r\n                    borderRadius: '5px'\r\n                }}\r\n            >\r\n                <FcGoogle className=\"text-xl\" />\r\n                Google\r\n            </Button>\r\n        </Box>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AAGA;;;;;AAGO,MAAM,aAAa;IACtB,qBACI,8OAAC,iLAAA,CAAA,MAAG;QACA,WAAU;kBACV,cAAA,8OAAC,0LAAA,CAAA,SAAM;YACH,SAAS,IAAM,CAAA,GAAA,kIAAA,CAAA,gBAAa,AAAD;YAC3B,SAAQ;YACR,WAAU;YACV,IAAI;gBACA,eAAe;gBACf,OAAO;gBACP,YAAY;gBACZ,OAAO;gBACP,QAAQ;gBACR,cAAc;YAClB;;8BAEA,8OAAC,8IAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;;gBAAY;;;;;;;;;;;;AAKhD"}},
    {"offset": {"line": 251, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 257, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/koles/OneDrive/%D0%A0%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB/FeHakaton25TEST/src/components/PassForm/index.tsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { LogButtons } from '../LogButtons'\r\nimport { Button, FormControl, IconButton, InputAdornment, InputLabel, Link, OutlinedInput, TextField } from '@mui/material'\r\nimport { loginUser, registerUser } from '@/app/lib/auth';\r\nimport { useRouter } from 'next/router';\r\nimport { useForm } from 'react-hook-form';\r\nimport Visibility from '@mui/icons-material/Visibility';\r\nimport VisibilityOff from '@mui/icons-material/VisibilityOff';\r\n\r\nexport const PassForm = () => {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const { register, handleSubmit, formState: { errors: formErrors }, reset } = useForm({\r\n    });\r\n    const router = useRouter();\r\n    const handleRegister = async () => {\r\n        setIsLoading(true);\r\n        try {\r\n            await registerUser('name', 'email', 'password');\r\n        } catch (error) {\r\n            console.error('Ошибка входа:', error);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleLogin = async (data: any) => {\r\n        setIsLoading(true);\r\n        try {\r\n            await loginUser(data.email, data.password);\r\n            console.log('Успешный вход:', data);\r\n\r\n            router.push('/');\r\n        } catch (error) {\r\n            console.error('Ошибка входа:', error);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const onSubmitHandler = (data: any) => {\r\n        console.log(data);\r\n\r\n        handleLogin(data);\r\n        reset();\r\n    };\r\n    const handleClickShowPassword = () => setShowPassword((show) => !show);\r\n\r\n    const handleMouseDownPassword = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n        event.preventDefault();\r\n    };\r\n\r\n    const handleMouseUpPassword = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n        event.preventDefault();\r\n    };\r\n    return (\r\n        <form onSubmit={handleSubmit(onSubmitHandler)} className='flex flex-col items-center gap-5'>\r\n            <div className='flex flex-col items-start gap-2 justify-start mb-8'>\r\n                <h1 className='text-4xl text-black'>Log in to your Account</h1>\r\n                <p className='text-gray-500'>Welcome back! Choose login method:</p>\r\n            </div>\r\n            <LogButtons />\r\n            <p className='text-gray-500'>-------------------- or continue with email --------------------</p>\r\n            <TextField\r\n                {...register(\"email\")}\r\n                sx={{ width: '410px', borderRadius: '5px' }}\r\n                className='margin-top-10 flex font-bold border-2 border-black'\r\n                id=\"demo-helper-text-aligned outlined-basic\"\r\n                label=\"Email\"\r\n            />\r\n            <FormControl sx={{ width: '410px', borderRadius: '5px' }} variant=\"outlined\" className='bg-blue-50'>\r\n                <InputLabel htmlFor=\"outlined-adornment-password\">Password</InputLabel>\r\n                <OutlinedInput\r\n                    {...register(\"password\")}\r\n                    id=\"outlined-adornment-password\"\r\n                    type={showPassword ? 'text' : 'password'}\r\n                    endAdornment={\r\n                        <InputAdornment position=\"end\">\r\n                            <IconButton\r\n                                aria-label={\r\n                                    showPassword ? 'hide the password' : 'display the password'\r\n                                }\r\n                                onClick={handleClickShowPassword}\r\n                                onMouseDown={handleMouseDownPassword}\r\n                                onMouseUp={handleMouseUpPassword}\r\n                                edge=\"end\"\r\n                            >\r\n                                {showPassword ? <VisibilityOff /> : <Visibility />}\r\n                            </IconButton>\r\n                        </InputAdornment>\r\n                    }\r\n                    label=\"Password\"\r\n                />\r\n            </FormControl>\r\n            <Link underline=\"none\" href={'/nahyi'} className='flex justify-center items-center'>Forgot Password?</Link>\r\n\r\n            <Button\r\n                type=\"submit\"\r\n                sx={{ width: '410px', borderRadius: '5px', height: '50px' }}\r\n                className='flex font-bold bg-blue-600'\r\n                variant=\"contained\"\r\n                disabled={isLoading}>\r\n                {isLoading ? (\r\n                    \"Entering...\"\r\n                ) : (\r\n                    \"Log in\"\r\n                )}</Button>\r\n        </form>\r\n    )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 472, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 478, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/koles/OneDrive/%D0%A0%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB/FeHakaton25TEST/src/app/login/page.tsx"],"sourcesContent":["'use client'\r\nimport { Box, Button, CircularProgress, FormControl, IconButton, InputAdornment, InputLabel, OutlinedInput, TextField } from '@mui/material'\r\nimport React, { ReactNode, useState } from 'react'\r\nimport Visibility from '@mui/icons-material/Visibility';\r\nimport VisibilityOff from '@mui/icons-material/VisibilityOff';\r\nimport Link from '@mui/material/Link';\r\nimport { LogButtons } from '@/components/LogButtons';\r\nimport { loginUser } from '../lib/auth';\r\n// import { useLogin } from './loginSchema';\r\nimport { useForm } from 'react-hook-form';\r\nimport LockOutlinedIcon from \"@mui/icons-material/LockOutlined\";\r\nimport LocalPostOfficeOutlinedIcon from \"@mui/icons-material/LocalPostOfficeOutlined\";\r\nimport { useRouter } from 'next/navigation';\r\nimport { PassButton } from '@/components/PassButton';\r\nimport { PassForm } from '@/components/PassForm';\r\n\r\ninterface IProps {\r\n  placeholder: string;\r\n  icon: ReactNode;\r\n  field: string;\r\n}\r\n\r\nconst inputs: IProps[] = [\r\n  {\r\n    placeholder: \"Email Address\",\r\n    icon: <LocalPostOfficeOutlinedIcon sx={{ color: \"white\" }} />,\r\n    field: \"email\",\r\n  },\r\n  {\r\n    placeholder: \"Password\",\r\n    icon: <LockOutlinedIcon sx={{ color: \"white\" }} />,\r\n    field: \"password\",\r\n  },\r\n];\r\n\r\nexport default function Page() {\r\n  return (\r\n    <div className='flex flex-row items-center justify-center w-screen h-screen bg-blue-50'>\r\n      <Box className='w-1/2 h-3/4 flex flex-col items-center justify-center p-10 gap-5 rounded-lg'>\r\n        <PassForm />\r\n        <div className='flex flex-row justify-center gap-2'>\r\n          <p className='text-gray-500'>Dont have an account?</p>\r\n          <Link underline=\"none\" href={'/register'}>Create an account</Link>\r\n        </div>\r\n      </Box>\r\n      <Box className='flex w-1/2 h-screen justify-center items-center bg-blue-600'></Box>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAcA;AAHA;AADA;AATA;AAIA;AALA;;;;;;;AAsBA,MAAM,SAAmB;IACvB;QACE,aAAa;QACb,oBAAM,8OAAC,4KAAA,CAAA,UAA2B;YAAC,IAAI;gBAAE,OAAO;YAAQ;;;;;;QACxD,OAAO;IACT;IACA;QACE,aAAa;QACb,oBAAM,8OAAC,iKAAA,CAAA,UAAgB;YAAC,IAAI;gBAAE,OAAO;YAAQ;;;;;;QAC7C,OAAO;IACT;CACD;AAEc,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,iLAAA,CAAA,MAAG;gBAAC,WAAU;;kCACb,8OAAC,uIAAA,CAAA,WAAQ;;;;;kCACT,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAAgB;;;;;;0CAC7B,8OAAC,iJAAA,CAAA,UAAI;gCAAC,WAAU;gCAAO,MAAM;0CAAa;;;;;;;;;;;;;;;;;;0BAG9C,8OAAC,iLAAA,CAAA,MAAG;gBAAC,WAAU;;;;;;;;;;;;AAGrB"}},
    {"offset": {"line": 580, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}